(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cms-edit-pro_manage-pro_manage"],{"0b95":function(t,e,n){"use strict";n.r(e);var i=n("f5f9"),o=n("305f");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("6c33");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"c36f66de",null);e["default"]=c.exports},"1a9b":function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("0b95")),a={components:{uniSegmentedControl:o.default},data:function(){return{getimg:this.$getimg,list:[],items:["上架商品","下架商品"],current:0}},onLoad:function(){this.get_pro()},onShow:function(){this.get_pro()},methods:{get_pro:function(){var t=this;this.$api.http.post("product/mcms/all_goods_info").then(function(e){t.list=e.data})},_request:function(){this.list=this.$api.json_cms.my_product},pull:function(t){var e=this;uni.showModal({title:"确定下架？",success:function(n){1==n.confirm&&e.$api.http.put("/mcms/update",{id:t,db:"goods",field:"state"}).then(function(t){e.$api.msg("下架成功"),e.get_pro()})}})},del:function(t){var e=this;uni.showModal({title:"确定删除？",success:function(n){1==n.confirm&&e.$api.http.put("product/mcms/del_product",{id:t}).then(function(t){e.$api.msg("删除成功"),e.get_pro()})}})},push:function(t){var e=this;uni.showModal({title:"确定上架？",success:function(n){1==n.confirm&&e.$api.http.put("/mcms/update",{id:t,db:"goods",field:"state"}).then(function(t){e.$api.msg("上架成功"),e.get_pro()})}})},jump_edit:function(t){console.log(t),uni.navigateTo({url:"/pages/cms/edit/product/product?id="+t})},onClickItem:function(t){this.current!==t&&(this.current=t)}},onPullDownRefresh:function(){this.get_pro(),setTimeout(function(){uni.stopPullDownRefresh()},2e3)}};e.default=a},"1c90":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i={name:"UniSegmentedControl",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:0}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},created:function(){this.currentIndex=this.current},methods:{_onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=i},"305f":function(t,e,n){"use strict";n.r(e);var i=n("1c90"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"52e8":function(t,e,n){"use strict";var i=n("8e03"),o=n.n(i);o.a},"69a8f":function(t,e,n){"use strict";n.r(e);var i=n("1a9b"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"6c33":function(t,e,n){"use strict";var i=n("6f0b"),o=n.n(i);o.a},"6f0b":function(t,e,n){var i=n("a75b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("6c29cfe8",i,!0,{sourceMap:!1,shadowMode:!1})},"78a2":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"manage"},[n("uni-segmented-control",{attrs:{current:t.current,values:t.items,"style-type":"text","active-color":"#F65256"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",[n("v-uni-view",{staticClass:"one"},[t._l(t.list,function(e,i){return[e.state!=t.current?n("v-uni-view",{key:i+"_0",staticClass:"container"},[n("v-uni-view",{staticClass:"pic"},[n("img",{attrs:{src:t.getimg+e.imgs}})]),n("v-uni-view",{staticClass:"desc"},[n("v-uni-view",{staticClass:"title"},[n("v-uni-view",{staticClass:"title_l"},[t._v(t._s(e.goods_name))])],1),n("v-uni-view",{staticClass:"price"},[t._v("¥ "+t._s(e.price))]),n("v-uni-view",{staticClass:"kc"},[n("v-uni-view",[t._v("库存："+t._s(e.stock))]),n("v-uni-view",{staticClass:"xiaol"},[t._v("销量："+t._s(e.sales))])],1),n("v-uni-view",{staticClass:"btn"},[n("v-uni-view",{staticClass:"btn_01",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.jump_edit(e.goods_id)}}},[t._v("编辑")]),1==e.state?n("v-uni-view",{staticClass:"btn_01",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.pull(e.goods_id)}}},[t._v("下架")]):t._e(),0==e.state?n("v-uni-view",{staticClass:"btn_01",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.push(e.goods_id)}}},[t._v("上架")]):t._e(),0==e.state?n("v-uni-view",{staticClass:"btn_01",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.del(e.goods_id)}}},[t._v("删除")]):t._e()],1)],1)],1):t._e()]}),n("v-uni-view",{staticClass:"tjsp"},[n("v-uni-navigator",{attrs:{url:"/pages/cms/edit/product/product"}},[n("v-uni-view",{staticClass:"flex flex-direction"},[n("v-uni-button",{staticClass:"cu-btn bg-red margin-tb-sm lg"},[t._v("添加商品")])],1)],1)],1)],2)],1)],1),n("v-uni-view",{staticStyle:{height:"100px"}})],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},8227:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".manage[data-v-698454d6]{font-size:14px}.manage .one .container[data-v-698454d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;border-bottom:1px solid #f2f2f2;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?240?%;padding:5px 11px;margin:0 0 10px;background:#fff}.manage .one .container .pic[data-v-698454d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:25%;height:100%;vertical-align:middle}.manage .one .container .pic img[data-v-698454d6]{width:100%;height:80%;border-radius:%?10?%}.manage .one .container .desc[data-v-698454d6]{color:#8b8b8b;width:70%;padding:%?20?%;text-align:left;font-size:12px}.manage .one .container .desc .title[data-v-698454d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.manage .one .container .desc .title_l[data-v-698454d6]{font-weight:700;color:#333;height:36px;overflow:hidden;font-size:14px;line-height:18px}.manage .one .container .desc .price[data-v-698454d6]{color:red;font-size:16px;font-weight:900}.manage .one .container .desc .kc[data-v-698454d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:18px}.manage .one .container .desc .kc .xiaol[data-v-698454d6]{color:#8b8b8b}.manage .one .container .desc .btn[data-v-698454d6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.manage .one .container .desc .btn .btn_01[data-v-698454d6]{border:1px solid #8b8b8b;border-radius:3px;text-align:center;margin-left:10px;padding:1px 8px}.manage .one .tjsp[data-v-698454d6]{padding:0 10px 10px;position:fixed;bottom:0;left:0;width:100%;box-sizing:border-box;z-index:99;background-color:#fff}.manage .one .tjsp .tjsp_btn[data-v-698454d6]{background-color:#e5e5e5;padding:10px;text-align:center;border-radius:20px;background-color:#df421d;color:#fff;width:100%}.manage .one .bg-red[data-v-698454d6]{background-color:#e54d42;color:#fff}",""])},"8e03":function(t,e,n){var i=n("8227");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("04f1eeff",i,!0,{sourceMap:!1,shadowMode:!1})},a75b:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".segmented-control[data-v-c36f66de]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:75%;font-size:%?28?%;box-sizing:border-box;margin:0 auto;overflow:hidden;border:1px solid;border-radius:%?10?%}.segmented-control.text[data-v-c36f66de]{border:0;border-radius:0}.segmented-control-item[data-v-c36f66de]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;line-height:%?60?%;box-sizing:border-box;border-left:1px solid}.segmented-control-item.active[data-v-c36f66de]{color:#fff}.segmented-control-item.text[data-v-c36f66de]{border-left:0;color:#000}.segmented-control-item.text.active[data-v-c36f66de]{border-bottom-style:solid}.segmented-control-item[data-v-c36f66de]:first-child{border-left-width:0}",""])},d71b:function(t,e,n){"use strict";n.r(e);var i=n("78a2"),o=n("69a8f");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("52e8");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"698454d6",null);e["default"]=c.exports},f5f9:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"segmented-control",class:{text:"text"===t.styleType},style:{borderColor:"text"===t.styleType?"":t.activeColor}},t._l(t.values,function(e,i){return n("v-uni-view",{key:i,staticClass:"segmented-control-item",class:[{text:"text"===t.styleType},{active:i===t.currentIndex}],style:{color:i===t.currentIndex?"text"===t.styleType?t.activeColor:"#fff":"text"===t.styleType?"#000":t.activeColor,backgroundColor:i===t.currentIndex&&"button"===t.styleType?t.activeColor:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._onClick(i)}}},[t._v(t._s(e))])}),1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})}}]);